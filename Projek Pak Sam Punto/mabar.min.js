// @ts-nocheck
document.addEventListener("DOMContentLoaded",(()=>{function t(t,e=1600){let n=document.getElementById("mabar-toast");n||(n=document.createElement("div"),n.id="mabar-toast",Object.assign(n.style,{position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:"34px",zIndex:99999,background:"rgba(0,0,0,0.7)",color:"#fff",padding:"8px 14px",borderRadius:"999px",fontSize:"14px",backdropFilter:"blur(4px)",opacity:"0",transition:"opacity .18s ease"}),document.body.appendChild(n)),n.textContent=t,n.style.opacity="1",clearTimeout(n.__hideTimeout),n.__hideTimeout=setTimeout((()=>{n.style.opacity="0"}),e)}const e=document.getElementById("guide"),n=document.getElementById("guide-text");if(e&&n){const I=["Selamat datang di mode <b>Mabar!</b> ðŸŽ®","Kamu bisa buat atau gabung room untuk bermain bersama teman~ ðŸ¤","Yuk coba klik tombol di atas untuk memulai! âœ¨"];let B=0,x=[],L=0,T=null;function o(){if(!x||L>=x.length)return B++,void(B<I.length&&setTimeout(i,900));const t=x[L++];"<"===t[0]?(n.innerHTML+=t,T=setTimeout(o,30)):(n.innerHTML+=t,T=setTimeout(o,36))}function i(){var t;n.innerHTML="",t=I[B],x=t.match(/(<[^>]+>|[^<])/g)||[],L=0,o()}i()}const a=document.getElementById("invite-btn"),d=document.getElementById("join-btn"),c=document.getElementById("invite-modal"),r=document.getElementById("join-modal"),l=document.getElementById("invite-code"),m=document.getElementById("copy-code-btn"),u=document.getElementById("invite-go-room"),s=document.getElementById("invite-close"),g=document.getElementById("invite-close2"),y=document.getElementById("join-code-input"),E=document.getElementById("join-go"),f=document.getElementById("join-close"),b=document.getElementById("join-close2");function p(t){t&&t.setAttribute("aria-hidden","false")}function v(t){t&&t.setAttribute("aria-hidden","true")}function k(e){const n=String(e).replace(/\D/g,"");n?window.location.href=`room.html?room=${encodeURIComponent(n)}`:t("Kode tidak valid.")}function h(){if(!c||!l)return;const t=Math.floor(1e5+9e5*Math.random()).toString();l.textContent=t,p(c),setTimeout((()=>{m&&m.focus()}),80)}a&&a.addEventListener("click",(t=>{t.preventDefault(),h()})),d&&d.addEventListener("click",(t=>{t.preventDefault(),r&&y&&(y.value="",p(r),setTimeout((()=>{y.focus()}),80))})),[s,g].forEach((t=>{t&&t.addEventListener("click",(()=>v(c)))})),[f,b].forEach((t=>{t&&t.addEventListener("click",(()=>v(r)))})),m&&l&&m.addEventListener("click",(async()=>{const e=l.textContent.trim();try{await async function(t){if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(t),!0;try{return window.prompt("Salin kode undangan ini:",t),!0}catch(t){return!1}}(e),t("Kode disalin ke clipboard!")}catch(e){t("Gagal menyalin, salin manual.")}})),u&&l&&u.addEventListener("click",(()=>{k(l.textContent.trim())})),E&&y&&E.addEventListener("click",(()=>{const e=y.value.trim().replace(/\D/g,"");6===e.length?k(e):t("Masukkan kode 6 digit yang valid.")})),y&&y.addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),E&&E.click())})),[c,r].forEach((t=>{t&&t.addEventListener("click",(e=>{e.target===t&&v(t)}))}))}));